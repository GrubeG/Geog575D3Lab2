window.onload=function(){var t=d3.select("body").append("svg").attr("width",900).attr("height",500).attr("class","container").style("background-color","rgba(0,0,0,0.2)"),a=t.append("rect").datum(400).attr("width",(function(t){return 2*t})).attr("height",(function(t){return t})).attr("class","innerRect").attr("x",50).attr("y",50).style("fill","#FFFFFF");console.log(a);var n=[{city:"Madison",population:233209},{city:"Milwaukee",population:594833},{city:"Green Bay",population:104057},{city:"Superior",population:27244}],r=d3.scaleLinear().range([90,810]).domain([0,3.5]),e=d3.min(n,(function(t){return t.population})),o=d3.max(n,(function(t){return t.population})),i=d3.scaleLinear().range([450,50]).domain([0,7e5]),l=d3.scaleLinear().range(["#FDBE85","#D94701"]).domain([e,o]),c=(t.selectAll(".circles").data(n).enter().append("circle").attr("class","circles").attr("id",(function(t){return t.city})).attr("r",(function(t){var a=.01*t.population;return Math.sqrt(a/Math.PI)})).attr("cx",(function(t,a){return r(a)})).attr("cy",(function(t){return i(t.population)})).style("fill",(function(t,a){return l(t.population)})).style("stroke","#000"),d3.axisLeft(i).scale(i)),p=(t.append("g").attr("class","axis").attr("transform","translate(50, 0)").call(c),t.append("text").attr("class","title").attr("text-anchor","middle").attr("x",450).attr("y",30).text("City Populations"),t.selectAll(".labels").data(n).enter().append("text").attr("class","labels").attr("text-anchor","left").attr("y",(function(t){return i(t.population)+1}))),u=(p.append("tspan").attr("class","nameLine").attr("x",(function(t,a){return r(a)+Math.sqrt(.01*t.population/Math.PI)+5})).text((function(t){return t.city})),d3.format(","));p.append("tspan").attr("class","popLine").attr("x",(function(t,a){return r(a)+Math.sqrt(.01*t.population/Math.PI)+5})).attr("dy","15").text((function(t){return"Pop. "+u(t.population)}))};